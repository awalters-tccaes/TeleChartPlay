@page "/"

@using Telerik.Blazor

<h1>Hello, world!</h1>

Welcome to your new app.

<br />

<TelerikButton OnClick="@SayHelloHandler" ThemeColor="@(ThemeConstants.Button.ThemeColor.Primary)">Say Hello</TelerikButton>

<TelerikChart>
    <ChartTitle Text="Break-up of Spain Electricity Production for 2008"></ChartTitle>
    <ChartLegend Position="ChartLegendPosition.Bottom"></ChartLegend>

    <ChartSeriesItems>
        <ChartSeries
            Type="ChartSeriesType.Pie"
            Data="@Data"
            Field="@nameof(ModelData.Percentage)"
            CategoryField="@nameof(ModelData.Source)"
            ExplodeField="@nameof(ModelData.Explode)">
            <ChartSeriesTooltip Visible="true" Context="item">
                <Template>
                    @item.Percentage.ToString("P")
                </Template>
            </ChartSeriesTooltip>
            <ChartSeriesLabels Visible="true"></ChartSeriesLabels>
        </ChartSeries>
    </ChartSeriesItems>
</TelerikChart>

<br />

@helloString

@code {
    MarkupString helloString;

    void SayHelloHandler()
    {
        string msg = string.Format("Hello from <strong>Telerik Blazor</strong> at {0}.<br /> Now you can use C# to write front-end!", DateTime.Now);
        helloString = new MarkupString(msg);
    }

    public class ModelData
    {
        public string Source { get; set; }
        public int Percentage { get; set; }
        public bool Explode { get; set; }
    }

    public List<ModelData> Data = new List<ModelData>()
    {
        new ModelData()
        {
            Source = "Hydro",
            Percentage = 22,
            Explode = true
        },
        new ModelData()
        {
            Source = "Solar",
            Percentage = 2,
            Explode = false
        },
        new ModelData()
        {
            Source = "Nuclear",
            Percentage = 49,
            Explode = false
        },
        new ModelData()
        {
            Source = "Wind",
            Percentage = 27,
            Explode = false
        }
    };

}